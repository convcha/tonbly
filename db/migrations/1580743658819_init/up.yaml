- args:
    tables:
      - delete_permissions:
          - permission:
              filter: {}
            role: tonbly-admin
          - permission:
              filter:
                author_user_id:
                  _eq: X-Hasura-User-Id
            role: tonbly-user
        insert_permissions:
          - permission:
              check: {}
              columns:
                - content
                - title
              set:
                author_user_id: X-Hasura-User-Id
            role: tonbly-admin
          - permission:
              check: {}
              columns:
                - content
                - title
              set:
                author_user_id: X-Hasura-User-Id
            role: tonbly-user
        object_relationships:
          - name: author
            using:
              foreign_key_constraint_on: author_user_id
        select_permissions:
          - permission:
              allow_aggregations: true
              columns:
                - author_user_id
                - id
                - content
                - title
              filter: {}
            role: tonbly-admin
          - permission:
              allow_aggregations: true
              columns:
                - author_user_id
                - id
                - content
                - title
              filter: {}
            role: tonbly-user
        table:
          name: article
          schema: public
        update_permissions:
          - permission:
              columns:
                - content
                - title
              filter: {}
            role: tonbly-admin
          - permission:
              columns:
                - content
                - title
              filter:
                author_user_id:
                  _eq: X-Hasura-User-Id
            role: tonbly-user
      - array_relationships:
          - name: articles
            using:
              foreign_key_constraint_on:
                column: author_user_id
                table:
                  name: article
                  schema: public
        delete_permissions:
          - permission:
              filter: {}
            role: tonbly-admin
        select_permissions:
          - permission:
              allow_aggregations: true
              columns:
                - id
                - role
                - name
              filter: {}
            role: tonbly-admin
          - permission:
              allow_aggregations: true
              columns:
                - id
                - name
              filter: {}
            role: tonbly-user
        table:
          name: user
          schema: public
        update_permissions:
          - permission:
              columns:
                - email
                - name
                - role
              filter: {}
            role: tonbly-admin
          - permission:
              columns:
                - email
                - name
              filter:
                id:
                  _eq: X-Hasura-User-Id
            role: tonbly-user
    version: 2
  type: replace_metadata
